# ==================================================================
# USA LUXURY LIMO BACKEND - ENVIRONMENT VARIABLES
# ==================================================================
# Standalone Backend Deployment Configuration
# For Coolify: Set these in Coolify UI
# For Local Development: Copy to .env
#
# REQUIRED: DATABASE_URL, SESSION_SECRET, STRIPE_SECRET_KEY, TOMTOM_API_KEY
# ==================================================================

# ==================================================================
# APPLICATION
# ==================================================================
NODE_ENV=production
PORT=5000

# ==================================================================
# DATABASE (REQUIRED)
# ==================================================================
# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
# URL-encode special characters: @ → %40, # → %23, ? → %3F
# Example: postgresql://user:p%40ss@db.example.com:5432/limo_db
DATABASE_URL=postgresql://user:password@localhost:5432/usa_luxury_limo

# ==================================================================
# SECURITY (REQUIRED)
# ==================================================================
# Session secret - Generate with: openssl rand -base64 32
SESSION_SECRET=your-random-session-secret-min-32-chars

# Encryption key - Exactly 32 characters
# Generate with: node -e "console.log(require('crypto').randomBytes(16).toString('hex'))"
ENCRYPTION_KEY=00000000000000000000000000000000

# ==================================================================
# DOMAINS & CORS (REQUIRED)
# ==================================================================
# Main domain for your application
DOMAIN=yourdomain.com

# Frontend origins allowed to access API (comma-separated)
# Include all domains where your frontend is hosted
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Admin panel subdomains (comma-separated)
# Only these subdomains can access admin endpoints
ADMIN_PANEL_HOSTS=admin.yourdomain.com

# Application base URLs
BASE_URL=https://yourdomain.com
API_BASE_URL=https://api.yourdomain.com

# ==================================================================
# OBJECT STORAGE (REQUIRED)
# ==================================================================
# MinIO Configuration (Recommended for Coolify/Self-hosted)
MINIO_ENDPOINT=minio.yourdomain.com
MINIO_PORT=9000
MINIO_USE_SSL=true
MINIO_ACCESS_KEY=your-minio-access-key
MINIO_SECRET_KEY=your-minio-secret-key
MINIO_BUCKET=luxury-limo

# Alternative: AWS S3 Configuration
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_S3_BUCKET=luxury-limo

# ==================================================================
# PAYMENT PROCESSING (REQUIRED - At least one provider)
# ==================================================================
# Stripe (Recommended - Primary payment processor)
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
VITE_STRIPE_PUBLIC_KEY=pk_live_your_stripe_public_key

# PayPal (Optional - Alternative payment method)
# PAYPAL_CLIENT_ID=your-paypal-client-id
# PAYPAL_CLIENT_SECRET=your-paypal-client-secret
# PAYPAL_MODE=live

# Square (Optional - Alternative payment method)
# SQUARE_ACCESS_TOKEN=your-square-access-token
# SQUARE_LOCATION_ID=your-square-location-id
# SQUARE_ENVIRONMENT=production

# ==================================================================
# SMS NOTIFICATIONS (REQUIRED)
# ==================================================================
# Twilio SMS Configuration
# Get credentials from: https://console.twilio.com
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# ==================================================================
# EMAIL NOTIFICATIONS (REQUIRED)
# ==================================================================
# SMTP Configuration
# Providers: Gmail (smtp.gmail.com), SendGrid (smtp.sendgrid.net), AWS SES
# Gmail: Use App Password, not regular password
# Port: 587 (TLS) or 465 (SSL)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-specific-password
EMAIL_FROM=noreply@yourdomain.com

# ==================================================================
# LOCATION & FLIGHT DATA (REQUIRED)
# ==================================================================
# TomTom Geocoding & Maps API
# Get API key from: https://developer.tomtom.com
TOMTOM_API_KEY=your-tomtom-api-key

# AeroDataBox Flight Search API (Optional - for flight tracking)
# Get API key from: https://www.aerodatabox.com
# AERODATABOX_API_KEY=your-aerodatabox-api-key

# ==================================================================
# AUTHENTICATION (Replit-specific - Optional)
# ==================================================================
# Only needed if using Replit Auth for login
# ISSUER_URL=https://replit.com/oidc
# CLIENT_ID=your-replit-client-id
# CLIENT_SECRET=your-replit-client-secret
# REPLIT_DOMAINS=yourdomain.com

# ==================================================================
# COOLIFY DEPLOYMENT NOTES
# ==================================================================
# 1. Create PostgreSQL database first (Neon, AWS RDS, or Coolify built-in)
# 2. Set up MinIO as separate service in Coolify
# 3. For internal Docker network: use http://minio:9000 as MINIO_ENDPOINT
# 4. Mark these as "Secret" in Coolify UI:
#    - DATABASE_URL
#    - SESSION_SECRET
#    - ENCRYPTION_KEY
#    - STRIPE_SECRET_KEY
#    - TWILIO_AUTH_TOKEN
#    - SMTP_PASS
#    - MINIO_SECRET_KEY
# 5. Generate strong random values:
#    SESSION_SECRET: openssl rand -base64 32
#    ENCRYPTION_KEY: node -e "console.log(require('crypto').randomBytes(16).toString('hex'))"
# 6. Test after deployment: curl https://api.yourdomain.com/health

# ==================================================================
# LOCAL DEVELOPMENT ONLY
# ==================================================================
# For local development, you may also need:
# DATABASE_URL=postgresql://localhost:5432/limo_dev
# MINIO_ENDPOINT=localhost
# ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5000
