# ==================================================================
# USA LUXURY LIMO - ENVIRONMENT VARIABLES
# ==================================================================
# For Coolify Deployment: Set all these values in Coolify UI
# Copy to .env for local development
#
# Required: DATABASE_URL, SESSION_SECRET, STRIPE_SECRET_KEY, TOMTOM_API_KEY
# Passwords: URL-encode special chars → %3F (?) %40 (@) %23 (#)
# ==================================================================

# ==================================================================
# APPLICATION
# ==================================================================
NODE_ENV=production
PORT=5000

# ==================================================================
# DATABASE (REQUIRED)
# ==================================================================
# PostgreSQL - Copy exact connection string from your database provider
# URL encode: user:pass@host → user%3Apass%40host
DATABASE_URL=postgresql://user:password@localhost:5432/usa_luxury_limo

# ==================================================================
# SECURITY (REQUIRED)
# ==================================================================
# Generate: openssl rand -base64 32
SESSION_SECRET=generate-random-32-character-string-here

# AES-256 encryption key (exactly 32 characters)
# Generate: node -e "console.log(crypto.randomBytes(16).toString('hex'))"
ENCRYPTION_KEY=00000000000000000000000000000000

# ==================================================================
# DOMAINS & CORS (REQUIRED)
# ==================================================================
# Your main domain
DOMAIN=yourdomain.com

# Frontend allowed origins (comma-separated if multiple)
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Admin panel subdomains (comma-separated)
ADMIN_PANEL_HOSTS=admin.yourdomain.com,adminaccess.yourdomain.com

# Application URLs
BASE_URL=https://yourdomain.com
API_BASE_URL=https://api.yourdomain.com
VITE_API_BASE_URL=https://api.yourdomain.com

# ==================================================================
# OBJECT STORAGE (REQUIRED - MinIO or S3)
# ==================================================================
# MinIO (Recommended for Coolify/VPS)
MINIO_ENDPOINT=minio.yourdomain.com
MINIO_PORT=9000
MINIO_USE_SSL=true
MINIO_ACCESS_KEY=your-minio-access-key
MINIO_SECRET_KEY=your-minio-secret-key
MINIO_BUCKET=luxury-limo

# ==================================================================
# PAYMENT PROCESSING (REQUIRED)
# ==================================================================
# Stripe (main payment processor)
STRIPE_SECRET_KEY=sk_live_your_secret_key_here
VITE_STRIPE_PUBLIC_KEY=pk_live_your_public_key_here

# PayPal (optional alternative)
PAYPAL_CLIENT_ID=your-paypal-client-id
PAYPAL_CLIENT_SECRET=your-paypal-client-secret
PAYPAL_MODE=live

# Square (optional alternative)
SQUARE_ACCESS_TOKEN=your-square-access-token
SQUARE_LOCATION_ID=your-square-location-id
SQUARE_ENVIRONMENT=production

# ==================================================================
# SMS NOTIFICATIONS (REQUIRED)
# ==================================================================
# Twilio account settings
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# ==================================================================
# EMAIL NOTIFICATIONS (REQUIRED)
# ==================================================================
# SMTP Configuration (Gmail, SendGrid, AWS SES, etc.)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password-not-regular-password
EMAIL_FROM=noreply@yourdomain.com

# ==================================================================
# LOCATION & FLIGHT DATA APIS (REQUIRED)
# ==================================================================
# TomTom Geocoding API
TOMTOM_API_KEY=your-tomtom-api-key

# AeroDataBox Flight Search API
AERODATABOX_API_KEY=your-aerodatabox-api-key

# ==================================================================
# AUTHENTICATION (Optional - Replit only)
# ==================================================================
# Replit OIDC
ISSUER_URL=https://replit.com/oidc
CLIENT_ID=your-replit-client-id
CLIENT_SECRET=your-replit-client-secret
REPLIT_DOMAINS=yourdomain.com

# ==================================================================
# COOLIFY SPECIFIC NOTES
# ==================================================================
# 1. Set DATABASE_URL from your PostgreSQL provider
# 2. Enable MinIO as separate service in Coolify
# 3. For internal service communication, use: http://minio:9000 (Docker network)
# 4. Mark all secrets in Coolify UI as "Secret" type
# 5. Generate strong random values for SESSION_SECRET and ENCRYPTION_KEY
# 6. MINIO_ENDPOINT in production: your-domain.com (not localhost)
# 7. Test health endpoint: curl https://api.yourdomain.com/health
